webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";function e(n){return z._17(0,[(n()(),z._4(0,null,null,0,"a-box",[["depth","20"],["height","0.1"],["width","0.2"]],[[1,"color",0],[1,"position",0]],null,null,null,null))],null,function(n,t){var l=t.component;n(t,0,0,t.context.$implicit,l.getPosition(t.context.index))})}function i(n){return z._17(0,[(n()(),z._4(0,null,null,0,"a-animation",[["attribute","fireball.opacity"],["dur","500"],["to","0"]],null,[[null,"animationend"]],function(n,t,l){var e=!0,i=n.component;if("animationend"===t){e=!1!==i.removeSphere(n.parent.context.$implicit)&&e}return e},null,null))],null,null)}function o(n){return z._17(0,[(n()(),z._4(0,null,null,0,"a-animation",[["attribute","position"],["begin","500"],["dur","500"],["from","0 0 0"],["to","0 999 0"]],null,[[null,"animationend"]],function(n,t,l){var e=!0,i=n.component;if("animationend"===t){e=!1!==i.removeSphere(n.parent.context.$implicit)&&e}return e},null,null))],null,null)}function u(n){return z._17(0,[(n()(),z._4(0,null,null,15,"a-entity",[["position","0 0 -20"]],null,null,null,null,null)),(n()(),z._16(null,["\n    "])),(n()(),z._4(0,null,null,7,"a-sphere",[["radius","0.5"]],[[1,"position",0],[1,"fireball",0],[1,"glow",0]],null,null,null,null)),(n()(),z._16(null,["\n      "])),(n()(),z._4(0,null,null,1,"a-entity",[["material","emissive: white"],["position","0 0.5 0"]],[[1,"text-geometry",0]],null,null,null,null)),(n()(),z._16(null,["\n      "])),(n()(),z._16(null,["\n      "])),(n()(),z.Y(16777216,null,null,1,null,i)),z._2(16384,null,0,L.d,[z.N,z.K],{ngIf:[0,"ngIf"]},null),(n()(),z._16(null,["\n    "])),(n()(),z._16(null,["\n    "])),(n()(),z._4(0,null,null,0,"a-animation",[["attribute","position"],["dur","2500"],["easing","linear"],["to","0 0 0"]],null,[[null,"animationend"]],function(n,t,l){var e=!0,i=n.component;if("animationend"===t){e=!1!==i.updateAnimation(n.context.$implicit)&&e}return e},null,null)),(n()(),z._16(null,["\n    "])),(n()(),z.Y(16777216,null,null,1,null,o)),z._2(16384,null,0,L.d,[z.N,z.K],{ngIf:[0,"ngIf"]},null),(n()(),z._16(null,["\n  "]))],function(n,t){n(t,8,0,t.context.$implicit.mismatch),n(t,14,0,t.context.$implicit.match)},function(n,t){n(t,2,0,t.context.$implicit.position,"brightness: 1.5; color: "+t.context.$implicit.color,"color: #00ff00; scale: 1.5; p: 0.8; c: 0.5; enabled: "+(t.context.$implicit.match?"true":"false")),n(t,4,0,"value: "+t.context.$implicit.fret)})}function r(n){return z._17(0,[(n()(),z._4(0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,l){var e=!0,i=n.component;if("click"===t){e=!1!==i.clicks.next()&&e}return e},null,null)),(n()(),z._16(null,["Drop"])),(n()(),z._16(null,["\n"])),(n()(),z._4(0,null,null,29,"a-scene",[],null,null,null,null,null)),(n()(),z._16(null,["\n  "])),(n()(),z._4(0,null,null,0,"a-sky",[["starnest",""]],null,null,null,null,null)),(n()(),z._16(null,["\n  "])),(n()(),z._4(0,null,null,0,"a-entity",[["light","type:ambient; color:#bbb"]],null,null,null,null,null)),(n()(),z._16(null,["\n  "])),(n()(),z._4(0,null,null,3,"a-entity",[["id","shadow_light"],["light","type:directional; color:#333; intensity:1; castShadow:true; target:#shadow_target"],["position","1.5 4 4"]],null,null,null,null,null)),(n()(),z._16(null,["\n    "])),(n()(),z._4(0,null,null,0,"a-entity",[["id","shadow_target"],["position","0 -4 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n  "])),(n()(),z._16(null,["\n\n  "])),(n()(),z.Y(16777216,null,null,1,null,e)),z._2(802816,null,0,L.c,[z.N,z.K,z.t],{ngForOf:[0,"ngForOf"]},null),(n()(),z._16(null,["\n\n  "])),(n()(),z.Y(16777216,null,null,1,null,u)),z._2(802816,null,0,L.c,[z.N,z.K,z.t],{ngForOf:[0,"ngForOf"]},null),(n()(),z._16(null,["\n\n  "])),(n()(),z._4(0,null,null,11,"a-camera",[["id","cam"],["position","1.5 0 4"],["rotation","0 0 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n    "])),(n()(),z._4(0,null,null,3,"a-entity",[["id","spec_1"],["light","type:directional; color:#ffc; intensity:0.3; target:#spec_1_target"],["position","2 2 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n      "])),(n()(),z._4(0,null,null,0,"a-entity",[["id","spec_1_target"],["position","-2 -2 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n    "])),(n()(),z._16(null,["\n    "])),(n()(),z._4(0,null,null,3,"a-entity",[["id","spec_2"],["light","type:directional; color:#cff; intensity:0.3; target:#spec_2_target"],["position","-2 2 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n      "])),(n()(),z._4(0,null,null,0,"a-entity",[["id","spec_2_target"],["position","2 -2 0"]],null,null,null,null,null)),(n()(),z._16(null,["\n    "])),(n()(),z._16(null,["\n  "])),(n()(),z._16(null,["\n"])),(n()(),z._16(null,["\n"]))],function(n,t){var l=t.component;n(t,15,0,l.lines),n(t,18,0,l.spheres)},null)}function a(n){return z._17(0,[(n()(),z._4(0,null,null,1,"app-root",[],null,null,null,r,A)),z._2(114688,null,0,R,[y],null,null)],function(n,t){n(t,1,0)},null)}Object.defineProperty(t,"__esModule",{value:!0});var s={production:!0},c=function(){function n(){}return n}(),d=l("/oeL"),f=l("bKpL"),p=(l.n(f),l("rlar")),m=(l.n(p),l("HHMy")),_=(l.n(m),l("bdO8")),h=(l.n(_),l("0yuy")),g=(l.n(h),l("5v8a")),v=(l.n(g),l("VML3")),b=(l.n(v),{apiKey:"AIzaSyAeef6ppzfZI3kLGiUkXPrE2sBGeyochnY",authDomain:"vr-hero-app.firebaseapp.com",databaseURL:"https://vr-hero-app.firebaseio.com",projectId:"vr-hero-app",messagingSenderId:"729035450276"}),y=function(){function n(n){var t=this;this.users$=new p.Subject,m.initializeApp(b),this.songRef=m.database().ref("/song"),this.notes$=new f.Observable(function(l){var e=t.songRef.on("child_added",function(t){n.run(function(){l.next(t.val())})},function(n){return l.error(n)});return function(){return t.songRef.off("child_added",e)}}).publish().refCount(),this.db=m.firestore();var l=new p.Subject;this.users=this.db.collection("users"),this.users.onSnapshot(l),l.map(function(n){return n.docs.map(function(n){return n.data()})}).subscribe(this.users$),m.auth().signInAnonymously(),m.auth().onAuthStateChanged(function(n){t.user=t.users.doc(m.auth().currentUser.uid),t.user.set({lastSeen:m.firestore.FieldValue.serverTimestamp(),color:"red"},{merge:!0})})}return n.ctorParameters=function(){return[{type:d.z}]},n}(),x=l("rlar"),M=(l.n(x),l("bKpL")),w=(l.n(M),l("ACG2")),I=(l.n(w),l("JNTq")),k=(l.n(I),l("Pic8")),S=(l.n(k),l("tPyf")),R=(l.n(S),function(){function n(n){this.datastore=n,this.clicks=new x.Subject,this.lines=["red","pink","orange","green","blue","purple"],this.spheres=[]}return n.prototype.ngOnInit=function(){var n=this;M.Observable.merge(this.datastore.notes$,this.clicks.map(function(){return{stringId:Math.floor(6*Math.random()),fret:Math.floor(6*Math.random())}})).subscribe(function(t){var l=t.stringId,e=n.lines[t.stringId];n.spheres.push({color:e,fret:t.fret,position:l-2+" 0.5 0",stringId:l,note:t.note})})},n.prototype.getPosition=function(n){return n-2+" 0 -10"},n.prototype.updateAnimation=function(n){Math.random()<.5?n.mismatch=!0:n.match=!0},n.prototype.removeSphere=function(n){this.spheres=this.spheres.filter(function(t){return t!==n})},n.ctorParameters=function(){return[{type:y}]},n}()),j=[""],z=l("/oeL"),L=l("qbdv"),$=[j],A=z._1({encapsulation:0,styles:$,data:{}}),C=z.Z("app-root",R,a,{},{},[]),F=l("/oeL"),O=l("qbdv"),P=l("fc+i"),T=F._0(c,[R],function(n){return F._13([F._14(512,F.i,F.W,[[8,[C]],[3,F.i],F.x]),F._14(5120,F.v,F._12,[[3,F.v]]),F._14(4608,O.f,O.e,[F.v]),F._14(4608,F.h,F.h,[]),F._14(5120,F.a,F._5,[]),F._14(5120,F.t,F._10,[]),F._14(5120,F.u,F._11,[]),F._14(4608,P.b,P.s,[O.b]),F._14(6144,F.H,null,[P.b]),F._14(4608,P.e,P.f,[]),F._14(5120,P.c,function(n,t,l,e){return[new P.k(n),new P.o(t),new P.n(l,e)]},[O.b,O.b,O.b,P.e]),F._14(4608,P.d,P.d,[P.c,F.z]),F._14(135680,P.m,P.m,[O.b]),F._14(4608,P.l,P.l,[P.d,P.m]),F._14(6144,F.F,null,[P.l]),F._14(6144,P.p,null,[P.m]),F._14(4608,F.L,F.L,[F.z]),F._14(4608,P.g,P.g,[O.b]),F._14(4608,P.i,P.i,[O.b]),F._14(4608,y,y,[F.z]),F._14(512,O.a,O.a,[]),F._14(1024,F.l,P.q,[]),F._14(1024,F.b,function(n,t){return[P.r(n,t)]},[[2,P.h],[2,F.y]]),F._14(512,F.c,F.c,[[2,F.b]]),F._14(131584,F._3,F._3,[F.z,F.X,F.r,F.l,F.i,F.c]),F._14(2048,F.e,null,[F._3]),F._14(512,F.d,F.d,[F.e]),F._14(512,P.a,P.a,[[3,P.a]]),F._14(512,c,c,[])])}),N=l("/oeL"),K=l("M0pv"),Y=(l.n(K),l("t/3J")),E=(l.n(Y),l("CA6L")),D=(l.n(E),l("fc+i"));s.production&&Object(N.R)(),Object(D.j)().bootstrapModuleFactory(T)},gFIY:function(n,t){function l(n){return new Promise(function(t,l){l(new Error("Cannot find module '"+n+"'."))})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"},tPyf:function(n,t){AFRAME.registerComponent("starnest",{schema:{},init:function(){var n=this;this.material=new THREE.ShaderMaterial({uniforms:{time:{value:0},iResolution:{value:[250,250,0]},iMouse:{value:[0,0,0,0]}},vertexShader:"\nvoid main( void ) {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"\nprecision highp float;\nprecision highp int;\n\n// Star Nest by Pablo Rom\xc3\xa1n Andrioli\n\nuniform vec3      iResolution;\nuniform vec4      iMouse;\nuniform float     time;\n\n// This content is under the MIT License.\n\n#define iterations 17\n#define formuparam 0.53\n\n#define volsteps 20\n#define stepsize 0.1\n\n#define zoom   0.800\n#define tile   0.850\n#define speed  0.010\n\n#define brightness 0.0015\n#define darkmatter 0.300\n#define distfading 0.730\n#define saturation 0.850\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//get coords and direction\n\tvec2 uv=fragCoord.xy/iResolution.xy-.5;\n\tuv.y*=iResolution.y/iResolution.x;\n\tvec3 dir=vec3(uv*zoom,1.);\n\tfloat adjTime=time*speed+.25;\n\n\t//mouse rotation\n\tfloat a1=.5+iMouse.x/iResolution.x*2.;\n\tfloat a2=.8+iMouse.y/iResolution.y*2.;\n\tmat2 rot1=mat2(cos(a1),sin(a1),-sin(a1),cos(a1));\n\tmat2 rot2=mat2(cos(a2),sin(a2),-sin(a2),cos(a2));\n\tdir.xz*=rot1;\n\tdir.xy*=rot2;\n\tvec3 from=vec3(1.,.5,0.5);\n\tfrom+=vec3(adjTime*2.,adjTime,-2.);\n\tfrom.xz*=rot1;\n\tfrom.xy*=rot2;\n\n\t//volumetric rendering\n\tfloat s=0.1,fade=1.;\n\tvec3 v=vec3(0.);\n\tfor (int r=0; r<volsteps; r++) {\n\t\tvec3 p=from+s*dir*.5;\n\t\tp = abs(vec3(tile)-mod(p,vec3(tile*2.))); // tiling fold\n\t\tfloat pa,a=pa=0.;\n\t\tfor (int i=0; i<iterations; i++) {\n\t\t\tp=abs(p)/dot(p,p)-formuparam; // the magic formula\n\t\t\ta+=abs(length(p)-pa); // absolute sum of average change\n\t\t\tpa=length(p);\n\t\t}\n\t\tfloat dm=max(0.,darkmatter-a*a*.001); //dark matter\n\t\ta*=a*a; // add contrast\n\t\tif (r>6) fade*=1.-dm; // dark matter, don't render near\n\t\t//v+=vec3(dm,dm*.5,0.);\n\t\tv+=fade;\n\t\tv+=vec3(s,s*s,s*s*s*s)*a*brightness*fade; // coloring based on distance\n\t\tfade*=distfading; // distance fading\n\t\ts+=stepsize;\n\t}\n\tv=mix(vec3(length(v)),v,saturation); //color adjust\n\tfragColor = vec4(v*.01,1.);\n\n}\n\nvoid main( void ) {\n  mainImage(gl_FragColor, gl_FragCoord.xy );\n}\n"}),this.applyToMesh(),this.el.addEventListener("model-loaded",function(){return n.applyToMesh()})},update:function(){},applyToMesh:function(){var n=this.el.getObject3D("mesh");n&&(n.material=this.material)},tick:function(n){this.material.uniforms.time.value=n/1e3}})}},[0]);