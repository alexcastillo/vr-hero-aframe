webpackJsonp([1],{0:function(n,t,e){n.exports=e("cDNt")},Z2Gu:function(n,t){AFRAME.registerComponent("sphere-shader",{schema:{color:{type:"color"},opacity:{type:"float",default:1}},init:function(){var n=this;this.material=new THREE.ShaderMaterial({uniforms:{time:{value:0},color:{value:new THREE.Color(this.data.color)},brightness:{value:1.1},opacity:{value:this.data.opacity},scale:{value:1}},vertexShader:"\nprecision highp float;\nprecision highp int;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nuniform vec3 cameraPosition;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n\nuniform float time;\nuniform float scale;\n\nvarying vec3 vTexCoord3D;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\nvarying vec3 vPosition;\n\nvoid main( void ) {\n\n  vPosition = position;\n\tvec4 mPosition = modelMatrix * vec4( position, 1.0 );\n\tvNormal = normalize( normalMatrix * normal );\n\tvViewPosition = cameraPosition - mPosition.xyz;\n\n\tvTexCoord3D = scale * ( position.xyz + cameraPosition * 0.1 * time );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n".replace(/uniform (mat4|mat3|vec3) (modelMatrix|modelViewMatrix|projectionMatrix|viewMatrix|normalMatrix|cameraPosition);/g,"").replace(/attribute (vec[32]) (position|normal|uv);/g,""),fragmentShader:"\n// Adapted from http://alteredqualia.com/three/examples/webgl_shader_fireball.html\nprecision highp float;\nprecision highp int;\n\n//\n// Description : Array and textureless GLSL 3D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110409 (stegu)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//\n\nuniform float time;\nuniform mat4 viewMatrix;\nuniform float brightness;\nuniform float opacity;\n\nvarying vec3 vTexCoord3D;\nvarying vec3 vNormal;\nvarying vec3 vPosition;\n\nuniform vec3 cameraPosition;\nuniform vec3 color;\n\nvec4 permute( vec4 x ) {\n\n\treturn mod( ( ( x * 34.0 ) + 1.0 ) * x, 289.0 );\n\n}\n\nvec4 taylorInvSqrt( vec4 r ) {\n\n\treturn 1.79284291400159 - 0.85373472095314 * r;\n\n}\n\nfloat snoise( vec3 v ) {\n\n\tconst vec2 C = vec2( 1.0 / 6.0, 1.0 / 3.0 );\n\tconst vec4 D = vec4( 0.0, 0.5, 1.0, 2.0 );\n\n\t// First corner\n\n\tvec3 i  = floor( v + dot( v, C.yyy ) );\n\tvec3 x0 = v - i + dot( i, C.xxx );\n\n\t// Other corners\n\n\tvec3 g = step( x0.yzx, x0.xyz );\n\tvec3 l = 1.0 - g;\n\tvec3 i1 = min( g.xyz, l.zxy );\n\tvec3 i2 = max( g.xyz, l.zxy );\n\n\t//  x0 = x0 - 0. + 0.0 * C\n\tvec3 x1 = x0 - i1 + 1.0 * C.xxx;\n\tvec3 x2 = x0 - i2 + 2.0 * C.xxx;\n\tvec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n\t// Permutations\n\n\ti = mod( i, 289.0 );\n\tvec4 p = permute( permute( permute(\n\t\t\t i.z + vec4( 0.0, i1.z, i2.z, 1.0 ) )\n\t\t   + i.y + vec4( 0.0, i1.y, i2.y, 1.0 ) )\n\t\t   + i.x + vec4( 0.0, i1.x, i2.x, 1.0 ) );\n\n\t// Gradients\n\t// ( N*N points uniformly over a square, mapped onto an octahedron.)\n\n\tfloat n_ = 1.0 / 7.0; // N=7\n\n\tvec3 ns = n_ * D.wyz - D.xzx;\n\n\tvec4 j = p - 49.0 * floor( p * ns.z *ns.z );  //  mod(p,N*N)\n\n\tvec4 x_ = floor( j * ns.z );\n\tvec4 y_ = floor( j - 7.0 * x_ );    // mod(j,N)\n\n\tvec4 x = x_ *ns.x + ns.yyyy;\n\tvec4 y = y_ *ns.x + ns.yyyy;\n\tvec4 h = 1.0 - abs( x ) - abs( y );\n\n\tvec4 b0 = vec4( x.xy, y.xy );\n\tvec4 b1 = vec4( x.zw, y.zw );\n\n\tvec4 s0 = floor( b0 ) * 2.0 + 1.0;\n\tvec4 s1 = floor( b1 ) * 2.0 + 1.0;\n\tvec4 sh = -step( h, vec4( 0.0 ) );\n\n\tvec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;\n\tvec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;\n\n\tvec3 p0 = vec3( a0.xy, h.x );\n\tvec3 p1 = vec3( a0.zw, h.y );\n\tvec3 p2 = vec3( a1.xy, h.z );\n\tvec3 p3 = vec3( a1.zw, h.w );\n\n\t// Normalise gradients\n\n\tvec4 norm = taylorInvSqrt( vec4( dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3) ) );\n\tp0 *= norm.x;\n\tp1 *= norm.y;\n\tp2 *= norm.z;\n\tp3 *= norm.w;\n\n\t// Mix final noise value\n\n\tvec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3) ), 0.0 );\n\tm = m * m;\n\treturn 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n\n}\n\nfloat heightMap( vec3 coord ) {\n\n\tfloat n = abs( snoise( coord ) );\n\n\tn += 0.25   * abs( snoise( coord * 2.0 ) );\n\tn += 0.25   * abs( snoise( coord * 4.0 ) );\n\tn += 0.125  * abs( snoise( coord * 8.0 ) );\n\tn += 0.0625 * abs( snoise( coord * 16.0 ) );\n\n\treturn n;\n\n}\n\nvoid main( void ) {\n\n\t// height\n\n\tfloat n = heightMap( vTexCoord3D );\n\n\t// color\n\n\tvec3 baseColor = color * 1.2 - n;\n\n\t// normal\n\n\tconst float e = 0.001;\n\n\tfloat nx = heightMap( vTexCoord3D + vec3( e, 0.0, 0.0 ) );\n\tfloat ny = heightMap( vTexCoord3D + vec3( 0.0, e, 0.0 ) );\n\tfloat nz = heightMap( vTexCoord3D + vec3( 0.0, 0.0, e ) );\n\n\tvec3 normal = normalize( vNormal + 0.05 * vec3( n - nx, n - ny, n - nz ) / e );\n\n\t// diffuse light\n\n\tvec3 vLightWeighting = vec3( 0.1 );\n\n\tvec4 lDirection = viewMatrix * vec4( normalize( cameraPosition ), 0.0 );\n\tfloat directionalLightWeighting = dot( normal, normalize( lDirection.xyz ) ) * 0.25 + 0.75;\n\tvLightWeighting += vec3( brightness ) * directionalLightWeighting;\n\n\tgl_FragColor = vec4( baseColor * vLightWeighting, opacity );\n}\n".replace(/uniform (mat4|vec3) (viewMatrix|cameraPosition);/g,""),transparent:this.data.opacity<1}),this.applyToMesh(),this.el.addEventListener("model-loaded",function(){return n.applyToMesh()})},update:function(){this.material.uniforms.color.value.set(this.data.color),this.material.uniforms.opacity.value=this.data.opacity,this.material.transparent=this.data.opacity<1},applyToMesh:function(){var n=this.el.getObject3D("mesh");n&&(n.material=this.material)},tick:function(n){this.material.uniforms.time.value=n/1e3}})},cDNt:function(n,t,e){"use strict";function l(n){return D._17(0,[(n()(),D._4(0,null,null,0,"a-box",[["depth","20"],["height","0.1"],["width","0.2"]],[[1,"color",0],[1,"position",0]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,0,0,t.context.$implicit,e.getPosition(t.context.index))})}function i(n){return D._17(0,[(n()(),D._4(0,null,null,0,"a-animation",[["attribute","sphere-shader.opacity"],["dur","500"],["to","0"]],null,[[null,"animationend"]],function(n,t,e){var l=!0,i=n.component;if("animationend"===t){l=!1!==i.removeSphere(n.parent.context.$implicit)&&l}return l},null,null))],null,null)}function o(n){return D._17(0,[(n()(),D._4(0,null,null,0,"a-animation",[["attribute","position"],["begin","500"],["dur","500"],["from","0 0 0"],["to","0 999 0"]],null,[[null,"animationend"]],function(n,t,e){var l=!0,i=n.component;if("animationend"===t){l=!1!==i.removeSphere(n.parent.context.$implicit)&&l}return l},null,null))],null,null)}function r(n){return D._17(0,[(n()(),D._4(0,null,null,15,"a-entity",[["position","0 0 -20"]],null,null,null,null,null)),(n()(),D._16(null,["\n    "])),(n()(),D._4(0,null,null,7,"a-sphere",[["radius","0.5"]],[[1,"position",0],[1,"sphere-shader",0],[1,"glow",0]],null,null,null,null)),(n()(),D._16(null,["\n      "])),(n()(),D._4(0,null,null,1,"a-entity",[["material","emissive: white"],["position","0 0.5 0"]],[[1,"text-geometry",0]],null,null,null,null)),(n()(),D._16(null,["\n      "])),(n()(),D._16(null,["\n      "])),(n()(),D.Y(16777216,null,null,1,null,i)),D._2(16384,null,0,S.d,[D.N,D.K],{ngIf:[0,"ngIf"]},null),(n()(),D._16(null,["\n    "])),(n()(),D._16(null,["\n    "])),(n()(),D._4(0,null,null,0,"a-animation",[["attribute","position"],["dur","2500"],["easing","linear"],["to","0 0 0"]],null,[[null,"animationend"]],function(n,t,e){var l=!0,i=n.component;if("animationend"===t){l=!1!==i.updateAnimation(n.context.$implicit)&&l}return l},null,null)),(n()(),D._16(null,["\n    "])),(n()(),D.Y(16777216,null,null,1,null,o)),D._2(16384,null,0,S.d,[D.N,D.K],{ngIf:[0,"ngIf"]},null),(n()(),D._16(null,["\n  "]))],function(n,t){n(t,8,0,t.context.$implicit.mismatch),n(t,14,0,t.context.$implicit.match)},function(n,t){n(t,2,0,t.context.$implicit.position,"color: "+t.context.$implicit.color,"color: #00ff00; scale: 1.5; p: 0.8; c: 0.5; enabled: "+(t.context.$implicit.match?"true":"false")),n(t,4,0,"value: "+t.context.$implicit.fret)})}function u(n){return D._17(0,[(n()(),D._4(0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,e){var l=!0,i=n.component;if("click"===t){l=!1!==i.clicks.next()&&l}return l},null,null)),(n()(),D._16(null,["Drop"])),(n()(),D._16(null,["\n"])),(n()(),D._4(0,null,null,29,"a-scene",[],null,null,null,null,null)),(n()(),D._16(null,["\n  "])),(n()(),D._4(0,null,null,0,"a-entity",[["environment",""]],null,null,null,null,null)),(n()(),D._16(null,["\n  "])),(n()(),D._4(0,null,null,0,"a-entity",[["light","type:ambient; color:#bbb"]],null,null,null,null,null)),(n()(),D._16(null,["\n  "])),(n()(),D._4(0,null,null,3,"a-entity",[["id","shadow_light"],["light","type:directional; color:#333; intensity:1; castShadow:true; target:#shadow_target"],["position","1.5 4 4"]],null,null,null,null,null)),(n()(),D._16(null,["\n    "])),(n()(),D._4(0,null,null,0,"a-entity",[["id","shadow_target"],["position","0 -4 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n  "])),(n()(),D._16(null,["\n\n  "])),(n()(),D.Y(16777216,null,null,1,null,l)),D._2(802816,null,0,S.c,[D.N,D.K,D.t],{ngForOf:[0,"ngForOf"]},null),(n()(),D._16(null,["\n\n  "])),(n()(),D.Y(16777216,null,null,1,null,r)),D._2(802816,null,0,S.c,[D.N,D.K,D.t],{ngForOf:[0,"ngForOf"]},null),(n()(),D._16(null,["\n\n  "])),(n()(),D._4(0,null,null,11,"a-camera",[["id","cam"],["position","1.5 0 4"],["rotation","0 0 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n    "])),(n()(),D._4(0,null,null,3,"a-entity",[["id","spec_1"],["light","type:directional; color:#ffc; intensity:0.3; target:#spec_1_target"],["position","2 2 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n      "])),(n()(),D._4(0,null,null,0,"a-entity",[["id","spec_1_target"],["position","-2 -2 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n    "])),(n()(),D._16(null,["\n    "])),(n()(),D._4(0,null,null,3,"a-entity",[["id","spec_2"],["light","type:directional; color:#cff; intensity:0.3; target:#spec_2_target"],["position","-2 2 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n      "])),(n()(),D._4(0,null,null,0,"a-entity",[["id","spec_2_target"],["position","2 -2 0"]],null,null,null,null,null)),(n()(),D._16(null,["\n    "])),(n()(),D._16(null,["\n  "])),(n()(),D._16(null,["\n"])),(n()(),D._16(null,["\n"]))],function(n,t){var e=t.component;n(t,15,0,e.lines),n(t,18,0,e.spheres)},null)}function a(n){return D._17(0,[(n()(),D._4(0,null,null,1,"app-root",[],null,null,null,u,A)),D._2(114688,null,0,L,[g],null,null)],function(n,t){n(t,1,0)},null)}Object.defineProperty(t,"__esModule",{value:!0});var c={production:!0},s=function(){function n(){}return n}(),p=e("/oeL"),m=e("bKpL"),v=(e.n(m),e("rlar")),d=(e.n(v),e("HHMy")),f=(e.n(d),e("bdO8")),h=(e.n(f),e("0yuy")),x=(e.n(h),e("5v8a")),_=(e.n(x),e("VML3")),y=(e.n(_),{apiKey:"AIzaSyAeef6ppzfZI3kLGiUkXPrE2sBGeyochnY",authDomain:"vr-hero-app.firebaseapp.com",databaseURL:"https://vr-hero-app.firebaseio.com",projectId:"vr-hero-app",messagingSenderId:"729035450276"}),g=function(){function n(n){var t=this;this.users$=new v.Subject,d.initializeApp(y),this.songRef=d.database().ref("/song"),this.notes$=new m.Observable(function(e){var l=t.songRef.on("child_added",function(t){n.run(function(){e.next(t.val())})},function(n){return e.error(n)});return function(){return t.songRef.off("child_added",l)}}).publish().refCount(),this.db=d.firestore();var e=new v.Subject;this.users=this.db.collection("users"),this.users.onSnapshot(e),e.map(function(n){return n.docs.map(function(n){return n.data()})}).subscribe(this.users$),d.auth().signInAnonymously(),d.auth().onAuthStateChanged(function(n){t.user=t.users.doc(d.auth().currentUser.uid),t.user.set({lastSeen:d.firestore.FieldValue.serverTimestamp(),color:"red"},{merge:!0})})}return n.ctorParameters=function(){return[{type:p.z}]},n}(),b=e("rlar"),w=(e.n(b),e("bKpL")),z=(e.n(w),e("ACG2")),M=(e.n(z),e("JNTq")),C=(e.n(M),e("Pic8")),P=(e.n(C),e("Z2Gu")),L=(e.n(P),function(){function n(n){this.datastore=n,this.clicks=new b.Subject,this.lines=["red","pink","orange","green","blue","purple"],this.spheres=[]}return n.prototype.ngOnInit=function(){var n=this;w.Observable.merge(this.datastore.notes$,this.clicks.map(function(){return{stringId:4,fret:2}})).subscribe(function(t){var e=t.stringId,l=n.lines[t.stringId];n.spheres.push({color:l,fret:t.fret,position:e-2+" 0.5 0",stringId:e,note:t.note})})},n.prototype.getPosition=function(n){return n-2+" 0 -10"},n.prototype.updateAnimation=function(n){Math.random()<.5?n.mismatch=!0:n.match=!0},n.prototype.removeSphere=function(n){this.spheres=this.spheres.filter(function(t){return t!==n})},n.ctorParameters=function(){return[{type:g}]},n}()),I=[""],D=e("/oeL"),S=e("qbdv"),N=[I],A=D._1({encapsulation:0,styles:N,data:{}}),j=D.Z("app-root",L,a,{},{},[]),T=e("/oeL"),$=e("qbdv"),O=e("fc+i"),k=T._0(s,[L],function(n){return T._13([T._14(512,T.i,T.W,[[8,[j]],[3,T.i],T.x]),T._14(5120,T.v,T._12,[[3,T.v]]),T._14(4608,$.f,$.e,[T.v]),T._14(4608,T.h,T.h,[]),T._14(5120,T.a,T._5,[]),T._14(5120,T.t,T._10,[]),T._14(5120,T.u,T._11,[]),T._14(4608,O.b,O.s,[$.b]),T._14(6144,T.H,null,[O.b]),T._14(4608,O.e,O.f,[]),T._14(5120,O.c,function(n,t,e,l){return[new O.k(n),new O.o(t),new O.n(e,l)]},[$.b,$.b,$.b,O.e]),T._14(4608,O.d,O.d,[O.c,T.z]),T._14(135680,O.m,O.m,[$.b]),T._14(4608,O.l,O.l,[O.d,O.m]),T._14(6144,T.F,null,[O.l]),T._14(6144,O.p,null,[O.m]),T._14(4608,T.L,T.L,[T.z]),T._14(4608,O.g,O.g,[$.b]),T._14(4608,O.i,O.i,[$.b]),T._14(4608,g,g,[T.z]),T._14(512,$.a,$.a,[]),T._14(1024,T.l,O.q,[]),T._14(1024,T.b,function(n,t){return[O.r(n,t)]},[[2,O.h],[2,T.y]]),T._14(512,T.c,T.c,[[2,T.b]]),T._14(131584,T._3,T._3,[T.z,T.X,T.r,T.l,T.i,T.c]),T._14(2048,T.e,null,[T._3]),T._14(512,T.d,T.d,[T.e]),T._14(512,O.a,O.a,[[3,O.a]]),T._14(512,s,s,[])])}),F=e("/oeL"),E=e("fc+i");c.production&&Object(F.R)(),Object(E.j)().bootstrapModuleFactory(k)},gFIY:function(n,t){function e(n){return new Promise(function(t,e){e(new Error("Cannot find module '"+n+"'."))})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="gFIY"}},[0]);